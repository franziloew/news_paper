---
title: "Entity Recognition"
output: html_notebook
---

```{r}
library(lexRankr)
library(entity)
library(tidyverse)
library(NLP)
library(openNLP)
library(ggmap)
```

```{r}
rm(list = ls())
load("../output/data_step2.Rda")
```

```{r}
sent_annot <- Maxent_Sent_Token_Annotator()
word_annot = Maxent_Word_Token_Annotator()
people_annot = Maxent_Entity_Annotator(kind = "person") #annotate person
```

```{r}
# select sample
btw %>%
  sample_n(1) %>%
  select(text) %>%
  as.String()-> text 

htmlTable::htmlTable(text)
```

```{r}
annot.l1 = NLP::annotate(text, list(sent_annot,word_annot,people_annot))

k <- sapply(annot.l1$features, `[[`, "kind")
berk_people = text[annot.l1[k == "person"]]

unique(berk_people)
```

```{r}
annot.l1$
```

